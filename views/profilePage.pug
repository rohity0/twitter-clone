extends layouts/main-layout.pug

block content 
  if !profileUser
       span.errorMessage User not found
  else 
      script. 
            let profileUserId = '!{profileUser._id}' 
            let selectedTab = '!{selectedTab}'    

            
      .profileHeaderContainer 
         .coverPhotoContainer

             .userImageContainer
                     img(src = profileUser.profile, alt = "user profile")
         .profileButtonContainer 
            if profileUser._id !== userName._id
                  a.profileButton(href = `/message/${profileUser._id}`)
                     i.fas.fa-envelope
                  +createFollowButton(profileUser, false) 
         .userDetailsContainer
            span.diplayName #{profileUser.firstName} #{profileUser.lastName}  
            span.userName @#{profileUser.userName}

            .followersContainer
               a(href=`/profile/${profileUser.userName}/following`)
                    span.value #{0}
                    span following
               a(href=`/profile/${profileUser.userName}/followers`)
                    span.value #{0}
                    span Followers            
      .tabConatiner 
         +createTab("Post", `/profile/${profileUser.userName}`, selectedTab !== "replies")
         +createTab("Replies", `/profile/${profileUser.userName}/replies`, selectedTab == "replies")
         


  .postContainer
  +createPostModals(userName)

block script 
      script(src="/Functions/profile.js") 